{"ast":null,"code":"import { ConfigOptionsInterpreter } from '../config-options/config-options-interpreter';\nimport { Device } from '../util/eufy-security-client.utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../plugin.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../config-options/ignore-accessory/ignore-accessory.component\";\nimport * as i5 from \"../config-options/enable-camera/enable-camera.component\";\nimport * as i6 from \"../config-options/rtsp-streaming/rtsp-streaming.component\";\nimport * as i7 from \"../config-options/enable-audio/enable-audio.component\";\nimport * as i8 from \"../config-options/talkback/talkback.component\";\nimport * as i9 from \"../config-options/camera-buttons/camera-buttons.component\";\nimport * as i10 from \"../config-options/enable-hsv/enable-hsv.component\";\nimport * as i11 from \"../config-options/unbridge-accessory/unbridge-accessory.component\";\nimport * as i12 from \"../config-options/snapshot-handling-method/snapshot-handling-method.component\";\nimport * as i13 from \"../config-options/immediate-notification-on-ring/immediate-notification-on-ring.component\";\nimport * as i14 from \"../config-options/delay-camera-snapshots/delay-camera-snapshots.component\";\nimport * as i15 from \"../config-options/periodic-snapshot-refresh/periodic-snapshot-refresh.component\";\nimport * as i16 from \"../config-options/force-refreshsnap/force-refreshsnap.component\";\nimport * as i17 from \"../config-options/experimental-rtsp/experimental-rtsp.component\";\nimport * as i18 from \"../config-options/advanced-videoconfig/advanced-videoconfig.component\";\n\nfunction CameraConfigOptionsComponent_div_2_div_9_hr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_2_div_9_app_rtsp_streaming_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-rtsp-streaming\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"accessory\", ctx_r4.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_2_div_9_hr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_2_div_9_app_talkback_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-talkback\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"accessory\", ctx_r6.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_2_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"hr\")(2, \"app-enable-camera\", 6);\n    i0.ɵɵtemplate(3, CameraConfigOptionsComponent_div_2_div_9_hr_3_Template, 1, 0, \"hr\", 2);\n    i0.ɵɵtemplate(4, CameraConfigOptionsComponent_div_2_div_9_app_rtsp_streaming_4_Template, 1, 1, \"app-rtsp-streaming\", 7);\n    i0.ɵɵelement(5, \"hr\")(6, \"app-enable-audio\", 6);\n    i0.ɵɵtemplate(7, CameraConfigOptionsComponent_div_2_div_9_hr_7_Template, 1, 0, \"hr\", 2);\n    i0.ɵɵtemplate(8, CameraConfigOptionsComponent_div_2_div_9_app_talkback_8_Template, 1, 1, \"app-talkback\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r2.accessory);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.supportsRTSP);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.supportsRTSP);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r2.accessory);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.supportsTalkback);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.supportsTalkback);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"b\");\n    i0.ɵɵtext(3, \"Camera Settings\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" for \");\n    i0.ɵɵelementStart(5, \"i\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"app-ignore-accessory\", 6);\n    i0.ɵɵtemplate(9, CameraConfigOptionsComponent_div_2_div_9_Template, 9, 6, \"div\", 2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r0.accessory.displayName, \" (\", ctx_r0.accessory.uniqueId, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r0.accessory);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isCamera);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"b\");\n    i0.ɵɵtext(3, \"HomeKit Behaviour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" for \");\n    i0.ɵɵelementStart(5, \"i\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"app-camera-buttons\", 6)(9, \"hr\")(10, \"app-enable-hsv\", 6)(11, \"hr\")(12, \"app-unbridge-accessory\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r7.accessory.displayName, \" (\", ctx_r7.accessory.uniqueId, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r7.accessory);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r7.accessory);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r7.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_4_hr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"hr\");\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_4_app_immediate_notification_on_ring_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-immediate-notification-on-ring\", 6);\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"accessory\", ctx_r11.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_4_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-force-refreshsnap\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"accessory\", ctx_r12.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"b\");\n    i0.ɵɵtext(3, \"Snapshot Behaviour\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" for \");\n    i0.ɵɵelementStart(5, \"i\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"app-snapshot-handling-method\", 6);\n    i0.ɵɵtemplate(9, CameraConfigOptionsComponent_div_3_div_4_hr_9_Template, 1, 0, \"hr\", 2);\n    i0.ɵɵtemplate(10, CameraConfigOptionsComponent_div_3_div_4_app_immediate_notification_on_ring_10_Template, 1, 1, \"app-immediate-notification-on-ring\", 7);\n    i0.ɵɵelement(11, \"hr\")(12, \"app-delay-camera-snapshots\", 6)(13, \"hr\")(14, \"app-periodic-snapshot-refresh\", 6);\n    i0.ɵɵtemplate(15, CameraConfigOptionsComponent_div_3_div_4_div_15_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r8.accessory.displayName, \" (\", ctx_r8.accessory.uniqueId, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r8.accessory);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.isDoorbell);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.isDoorbell);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r8.accessory);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r8.accessory);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r8.showEnhancedSnapshotBehaviour);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"b\");\n    i0.ɵɵtext(3, \"Experimental Mode - Options\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" for \");\n    i0.ɵɵelementStart(5, \"i\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵelement(8, \"app-experimental-rtsp\", 6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r9.accessory.displayName, \" (\", ctx_r9.accessory.uniqueId, \")\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r9.accessory);\n  }\n}\n\nfunction CameraConfigOptionsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"p\");\n    i0.ɵɵtemplate(2, CameraConfigOptionsComponent_div_3_div_2_Template, 13, 5, \"div\", 1);\n    i0.ɵɵelement(3, \"p\");\n    i0.ɵɵtemplate(4, CameraConfigOptionsComponent_div_3_div_4_Template, 16, 8, \"div\", 1);\n    i0.ɵɵelement(5, \"p\");\n    i0.ɵɵtemplate(6, CameraConfigOptionsComponent_div_3_div_6_Template, 9, 3, \"div\", 1);\n    i0.ɵɵelement(7, \"p\")(8, \"app-advanced-videoconfig\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.accessory);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.accessory);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.accessory && ctx_r1.experimentalMode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"accessory\", ctx_r1.accessory);\n  }\n}\n\nexport let CameraConfigOptionsComponent = /*#__PURE__*/(() => {\n  class CameraConfigOptionsComponent extends ConfigOptionsInterpreter {\n    constructor(pluginService, route) {\n      super(pluginService);\n      this.route = route;\n      this.showEnhancedSnapshotBehaviour = true;\n      this.isDoorbell = false;\n      this.isCamera = false;\n      this.supportsRTSP = false;\n      this.supportsTalkback = false;\n      this.experimentalMode = false;\n    }\n\n    ngOnInit() {\n      const uniqueId = this.route.snapshot.paramMap.get('uniqueId');\n      this.accessory = this.pluginService.getDevice(uniqueId);\n\n      if (this.accessory) {\n        this.isDoorbell = Device.isDoorbell(this.accessory.type);\n        this.isCamera = Device.isCamera(this.accessory.type);\n        this.supportsRTSP = Device.supportsRTSP(this.accessory.type);\n        this.supportsTalkback = Device.supportsTalkback(this.accessory.type);\n\n        if (Object.prototype.hasOwnProperty.call(this.config, 'experimentalMode') && this.config['experimentalMode']) {\n          // check if experimental settings are available\n          if (!this.supportsRTSP) {\n            this.experimentalMode = true;\n            this.supportsRTSP = true;\n          }\n        } // reset rtsp and talkback setting if these are not supported\n\n\n        if (!this.supportsRTSP) {\n          this.updateConfig({\n            rtsp: false\n          }, this.accessory);\n        }\n\n        if (!this.supportsTalkback) {\n          this.updateConfig({\n            talkback: false\n          }, this.accessory);\n        }\n      }\n    }\n\n    updateSnapshotView(value) {\n      this.showEnhancedSnapshotBehaviour = value;\n    }\n\n  }\n\n  CameraConfigOptionsComponent.ɵfac = function CameraConfigOptionsComponent_Factory(t) {\n    return new (t || CameraConfigOptionsComponent)(i0.ɵɵdirectiveInject(i1.PluginService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  CameraConfigOptionsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CameraConfigOptionsComponent,\n    selectors: [[\"app-camera-config-options\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 4,\n    vars: 2,\n    consts: [[\"routerLink\", \"/accessories\", 1, \"btn\", \"btn-secondary\", \"mb-3\"], [\"class\", \"card\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\", \"pt-0\", \"pb-4\"], [3, \"accessory\"], [3, \"accessory\", 4, \"ngIf\"]],\n    template: function CameraConfigOptionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵtext(1, \"Back to Devices List\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, CameraConfigOptionsComponent_div_2_Template, 10, 4, \"div\", 1);\n        i0.ɵɵtemplate(3, CameraConfigOptionsComponent_div_3_Template, 9, 4, \"div\", 2);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.accessory);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isCamera);\n      }\n    },\n    directives: [i2.RouterLinkWithHref, i3.NgIf, i4.IgnoreAccessoryComponent, i5.EnableCameraComponent, i6.RtspStreamingComponent, i7.EnableAudioComponent, i8.TalkbackComponent, i9.CameraButtonsComponent, i10.EnableHsvComponent, i11.UnbridgeAccessoryComponent, i12.SnapshotHandlingMethodComponent, i13.ImmediateNotificationOnRingComponent, i14.DelayCameraSnapshotsComponent, i15.PeriodicSnapshotRefreshComponent, i16.ForceRefreshsnapComponent, i17.ExperimentalRtspComponent, i18.AdvancedVideoconfigComponent],\n    encapsulation: 2\n  });\n  return CameraConfigOptionsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}