{"ast":null,"code":"import _asyncToGenerator from \"/Users/ivangarciaparras/Git/ivan-garcia-parras/homebridge-eufy-legacy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { LoginFailReason } from '../util/types';\nimport { COUNTRIES } from '../countries';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"@angular/forms\";\n\nfunction LoginComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵtext(0, \" If you login here the new connection might interfere with any already established connection that was made by the eufy plugin itself.\");\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelement(1, \"p\");\n    i0.ɵɵelementStart(2, \"i\");\n    i0.ɵɵtext(3, \"So even if you do not change any settings we recommened that you restart the plugin after you've connected to the eufy cloud here.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"p\", 10)(1, \"ngb-alert\", 11);\n    i0.ɵɵlistener(\"closed\", function LoginComponent_p_8_Template_ngb_alert_closed_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.resetLoginFailed();\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 12);\n    i0.ɵɵelement(3, \"use\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5, \"Login was not successful!\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"dismissible\", true);\n  }\n}\n\nfunction LoginComponent_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 33);\n    i0.ɵɵelement(2, \"use\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4, \" Please make sure to restart plugin after you're done. \");\n    i0.ɵɵelementStart(5, \"u\", 35);\n    i0.ɵɵtext(6, \" Tell me why... \");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n\n    const _r0 = i0.ɵɵreference(6);\n\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"autoClose\", \"outside\")(\"ngbPopover\", _r0);\n  }\n}\n\nfunction LoginComponent_div_10_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"You can leave this field blank.\");\n    i0.ɵɵelement(1, \"p\");\n    i0.ɵɵtext(2, \"This will set the an option in the api calls to the eufy cloud, so that the servers think this plugin uses the official eufy app on the given device. If left blank the plugin will use a random device identifier. See \");\n    i0.ɵɵelementStart(3, \"a\", 36);\n    i0.ɵɵtext(4, \"this disussion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \" to learn more.\");\n  }\n}\n\nfunction LoginComponent_div_10_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const country_r14 = ctx.$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"value\", country_r14.short)(\"selected\", ctx_r11.credentials.country === country_r14.short ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", country_r14.long, \" \");\n  }\n}\n\nfunction LoginComponent_div_10_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 37);\n  }\n}\n\nfunction LoginComponent_div_10_span_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, LoginComponent_div_10_div_1_Template, 7, 2, \"div\", 14);\n    i0.ɵɵelementStart(2, \"div\", 15)(3, \"input\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_10_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.credentials.username = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 17);\n    i0.ɵɵtext(5, \"Email address\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"p\");\n    i0.ɵɵelementStart(7, \"div\", 15)(8, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_10_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.credentials.password = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"label\", 19);\n    i0.ɵɵtext(10, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(11, \"p\");\n    i0.ɵɵelementStart(12, \"div\", 15);\n    i0.ɵɵtemplate(13, LoginComponent_div_10_ng_template_13_Template, 6, 0, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(15, \"input\", 21);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_10_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.credentials.deviceName = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\", 22);\n    i0.ɵɵtext(17, \"Device Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 23)(19, \"div\", 24)(20, \"select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_10_Template_select_ngModelChange_20_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.credentials.country = $event;\n    });\n    i0.ɵɵtemplate(21, LoginComponent_div_10_option_21_Template, 2, 3, \"option\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"small\")(23, \"i\");\n    i0.ɵɵtext(24, \" Make sure to use the same country that you use to login with the eufy app. \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelement(25, \"span\", 27);\n    i0.ɵɵelementStart(26, \"div\", 28)(27, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_10_Template_button_click_27_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.login();\n    });\n    i0.ɵɵtemplate(28, LoginComponent_div_10_span_28_Template, 1, 0, \"span\", 30);\n    i0.ɵɵtext(29, \" Login \");\n    i0.ɵɵtemplate(30, LoginComponent_div_10_span_30_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_10_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.cancelLogin();\n    });\n    i0.ɵɵtext(32, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const _r9 = i0.ɵɵreference(14);\n\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.firstLoginAssumed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.credentials.username);\n    i0.ɵɵattribute(\"class\", ctx_r3.emailIsValid ? \"form-control\" : \"form-control is-invalid\")(\"disabled\", ctx_r3.loginInProgress ? true : null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.credentials.password);\n    i0.ɵɵattribute(\"class\", ctx_r3.passwordIsValid ? \"form-control\" : \"form-control is-invalid\")(\"disabled\", ctx_r3.loginInProgress ? true : null);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.credentials.deviceName)(\"ngbTooltip\", _r9)(\"closeDelay\", 2500);\n    i0.ɵɵattribute(\"class\", ctx_r3.passwordIsValid ? \"form-control\" : \"form-control is-invalid\")(\"disabled\", ctx_r3.loginInProgress ? true : null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.credentials.country);\n    i0.ɵɵattribute(\"disabled\", ctx_r3.loginInProgress ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.countries);\n    i0.ɵɵadvance(6);\n    i0.ɵɵattribute(\"disabled\", ctx_r3.loginInProgress ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loginInProgress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.loginInProgress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"disabled\", ctx_r3.loginInProgress ? true : null);\n  }\n}\n\nfunction LoginComponent_div_11_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 37);\n  }\n}\n\nfunction LoginComponent_div_11_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 38);\n    i0.ɵɵtext(2, \"You should have gotten a 2FA verification code from eufy in your mail. Please enter this below.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6)(4, \"div\", 39)(5, \"input\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_11_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.otp = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"label\", 41);\n    i0.ɵɵtext(7, \"2FA Code\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 42)(9, \"div\", 43)(10, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_11_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.login();\n    });\n    i0.ɵɵtemplate(11, LoginComponent_div_11_span_11_Template, 1, 0, \"span\", 30);\n    i0.ɵɵtext(12, \" Verify \");\n    i0.ɵɵtemplate(13, LoginComponent_div_11_span_13_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 6)(15, \"div\", 43)(16, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_11_Template_button_click_16_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.cancelLogin();\n    });\n    i0.ɵɵtext(17, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.otp);\n    i0.ɵɵattribute(\"class\", ctx_r4.otpIsValid ? \"form-control\" : \"form-control is-invalid\")(\"disabled\", ctx_r4.loginInProgress ? true : null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵattribute(\"disabled\", ctx_r4.loginInProgress ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.loginInProgress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.loginInProgress);\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"disabled\", ctx_r4.loginInProgress ? true : null);\n  }\n}\n\nfunction LoginComponent_div_12_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 37);\n  }\n}\n\nfunction LoginComponent_div_12_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"...\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction LoginComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 38);\n    i0.ɵɵtext(2, \"Please enter the captcha below.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 42);\n    i0.ɵɵelement(4, \"img\", 45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6)(6, \"div\", 39)(7, \"input\", 40);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_12_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.captcha = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 41);\n    i0.ɵɵtext(9, \"Captcha\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 42)(11, \"div\", 43)(12, \"button\", 44);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_12_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.login();\n    });\n    i0.ɵɵtemplate(13, LoginComponent_div_12_span_13_Template, 1, 0, \"span\", 30);\n    i0.ɵɵtext(14, \" Verify \");\n    i0.ɵɵtemplate(15, LoginComponent_div_12_span_15_Template, 2, 0, \"span\", 9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 6)(17, \"div\", 43)(18, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_12_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r31);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.cancelLogin();\n    });\n    i0.ɵɵtext(19, \" Cancel \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"src\", ctx_r5.captchaImageData, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.captcha);\n    i0.ɵɵattribute(\"class\", ctx_r5.captchaIsValid ? \"form-control\" : \"form-control is-invalid\")(\"disabled\", ctx_r5.loginInProgress ? true : null);\n    i0.ɵɵadvance(5);\n    i0.ɵɵattribute(\"disabled\", ctx_r5.loginInProgress ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.loginInProgress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.loginInProgress);\n    i0.ɵɵadvance(3);\n    i0.ɵɵattribute(\"disabled\", ctx_r5.loginInProgress ? true : null);\n  }\n}\n\nvar LoginStep = /*#__PURE__*/(() => {\n  (function (LoginStep) {\n    LoginStep[LoginStep[\"LOGIN\"] = 1] = \"LOGIN\";\n    LoginStep[LoginStep[\"TFA\"] = 2] = \"TFA\";\n    LoginStep[LoginStep[\"CAPTCHA\"] = 3] = \"CAPTCHA\";\n  })(LoginStep || (LoginStep = {}));\n\n  return LoginStep;\n})();\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(loginService, routerService) {\n      this.loginService = loginService;\n      this.routerService = routerService;\n      this.countries = [];\n      this.credentials = {\n        username: '',\n        password: '',\n        country: 'US',\n        deviceName: ''\n      };\n      this.otp = '';\n      this.captcha = '';\n      this.captchaImageData = '';\n      this.captchaId = '';\n      this.loginInProgress = false;\n      this.loginFailed = false;\n      this.loginStep = LoginStep.LOGIN;\n      this.firstLoginAssumed = false;\n      this.emailIsValid = true;\n      this.passwordIsValid = true;\n      this.otpIsValid = true;\n      this.captchaIsValid = true;\n    }\n\n    ngOnInit() {\n      this.getCredentials();\n      this.fillCountryArray();\n    }\n\n    getCredentials() {\n      this.loginService.getCredentials().then(creds => this.credentials = creds).catch(err => {\n        this.firstLoginAssumed = true;\n        console.log('Could not get config in login component: ' + err);\n      });\n    }\n\n    fillCountryArray() {\n      Object.entries(COUNTRIES).forEach(([key, value]) => {\n        this.countries.push({\n          short: key,\n          long: value\n        });\n      });\n    }\n\n    login() {\n      if (this.inputIsInvalid()) {\n        return;\n      }\n\n      this.resetLoginFailed();\n      this.loginInProgress = true;\n\n      if (this.loginStep === LoginStep.LOGIN) {\n        this.loginWithCredentials();\n      }\n\n      if (this.loginStep === LoginStep.TFA) {\n        this.loginWithTFA();\n      }\n\n      if (this.loginStep === LoginStep.CAPTCHA) {\n        this.loginWithCaptcha();\n      }\n    }\n\n    loginWithCredentials() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        let loginResult = undefined;\n\n        try {\n          loginResult = yield _this.loginService.login(_this.credentials);\n        } catch (err) {\n          console.log('login error: ' + err);\n        }\n\n        _this.evaluateLoginResult(loginResult);\n      })();\n    }\n\n    loginWithTFA() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        let loginResult = undefined;\n\n        try {\n          loginResult = yield _this2.loginService.login({\n            verifyCode: _this2.otp\n          });\n        } catch (err) {\n          console.log('login error: ' + err);\n        }\n\n        _this2.evaluateLoginResult(loginResult);\n      })();\n    }\n\n    loginWithCaptcha() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        let loginResult = undefined;\n\n        try {\n          loginResult = yield _this3.loginService.login({\n            captcha: {\n              captchaCode: _this3.captcha,\n              captchaId: _this3.captchaId\n            }\n          });\n        } catch (err) {\n          console.log('login error: ' + err);\n        }\n\n        _this3.evaluateLoginResult(loginResult);\n      })();\n    }\n\n    evaluateLoginResult(loginResult) {\n      this.loginInProgress = false;\n\n      if (loginResult && loginResult.success) {\n        this.loginService.updateConfigCredentials(this.credentials);\n        this.routerService.navigate(['/accessories', {\n          waitForAccessories: true\n        }]);\n      } else {\n        if (loginResult && loginResult.failReason && loginResult.failReason === LoginFailReason.TFA) {\n          this.loginStep = LoginStep.TFA;\n          return;\n        }\n\n        if (loginResult && loginResult.failReason && loginResult.failReason === LoginFailReason.CAPTCHA && loginResult.data && loginResult.data.id && loginResult.data.captcha) {\n          this.loginStep = LoginStep.CAPTCHA;\n          this.captchaId = loginResult.data.id;\n          this.captchaImageData = loginResult.data.captcha;\n          return;\n        }\n\n        this.loginStep = LoginStep.LOGIN;\n        this.loginFailed = true;\n      }\n    }\n\n    inputIsInvalid() {\n      this.emailIsValid = true;\n      this.passwordIsValid = true;\n      this.otpIsValid = true;\n      let inputError = false;\n\n      if (this.loginStep === LoginStep.LOGIN && this.credentials.username.length < 4) {\n        this.emailIsValid = false;\n        inputError = true;\n      }\n\n      if (this.loginStep === LoginStep.LOGIN && this.credentials.password.length < 4) {\n        this.passwordIsValid = false;\n        inputError = true;\n      }\n\n      if (this.loginStep === LoginStep.TFA && this.otp.length < 6) {\n        this.otpIsValid = false;\n        inputError = true;\n      }\n\n      if (this.loginStep === LoginStep.CAPTCHA && this.captcha.length < 4) {\n        this.captchaIsValid = false;\n        inputError = true;\n      }\n\n      return inputError;\n    }\n\n    resetLoginFailed() {\n      this.loginFailed = false;\n    }\n\n    cancelLogin() {\n      this.routerService.navigate(['/accessories']);\n    }\n\n  }\n\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 13,\n    vars: 4,\n    consts: [[\"xmlns\", \"http://www.w3.org/2000/svg\", 2, \"display\", \"none\"], [\"id\", \"info-fill\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\"], [\"d\", \"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z\"], [\"id\", \"exclamation-triangle-fill\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\"], [\"d\", \"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\"], [\"popInfo\", \"\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [\"class\", \"col-11 col-sm-7\", 4, \"ngIf\"], [1, \"col-11\", \"col-sm-7\", \"card\", \"p-4\"], [4, \"ngIf\"], [1, \"col-11\", \"col-sm-7\"], [\"type\", \"danger\", 3, \"dismissible\", \"closed\"], [\"width\", \"24\", \"height\", \"24\", \"role\", \"img\", \"aria-label\", \"Login Error\", 1, \"bi\", \"flex-shrink-0\", \"me-2\"], [0, \"xlink\", \"href\", \"#exclamation-triangle-fill\"], [\"class\", \"alert alert-warning d-flex align-items-center\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"email\", \"id\", \"floatingInput\", \"placeholder\", \"name@example.com\", \"ngModel\", \"\", \"email\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [\"type\", \"password\", \"id\", \"floatingPassword\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingPassword\"], [\"deviceNameExplanation\", \"\"], [\"type\", \"text\", \"id\", \"floatingDevice\", \"placeholder\", \"Device Name\", \"placement\", \"top\", 3, \"ngModel\", \"ngbTooltip\", \"closeDelay\", \"ngModelChange\"], [\"for\", \"floatingDevice\"], [1, \"row\"], [1, \"col-12\", \"col-sm-6\", \"mb-3\", \"mb-sm0\"], [\"aria-label\", \"select country\", 1, \"form-select\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-0\", \"col-sm-1\"], [1, \"col-12\", \"col-sm-5\", \"text-end\", \"mb-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"col-12\", \"mb-3\", 3, \"click\"], [\"class\", \"spinner-border spinner-border-sm\", \"role\", \"status\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"col-12\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\", \"d-flex\", \"align-items-center\"], [\"width\", \"24\", \"height\", \"24\", \"role\", \"img\", \"aria-label\", \"Warning:\", 1, \"bi\", \"flex-shrink-0\", \"me-2\"], [0, \"xlink\", \"href\", \"#info-fill\"], [\"role\", \"button\", \"popoverTitle\", \"Please restart after login\", 3, \"autoClose\", \"ngbPopover\"], [\"href\", \"https://github.com/homebridge-eufy-security/plugin/issues/201\", \"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 2, \"color\", \"white\"], [\"role\", \"status\", \"aria-hidden\", \"true\", 1, \"spinner-border\", \"spinner-border-sm\"], [1, \"row\", \"mb-3\"], [1, \"form-floating\", \"mb-3\", \"col-8\", \"col-sm-6\"], [\"type\", \"text\", \"id\", \"floatingOTP\", \"placeholder\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingOTP\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"mb-3\"], [1, \"col-8\", \"col-sm-6\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", \"col-12\", 3, \"click\"], [1, \"col-10\", \"col-sm-8\", 3, \"src\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(0, \"svg\", 0)(1, \"symbol\", 1);\n        i0.ɵɵelement(2, \"path\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"symbol\", 3);\n        i0.ɵɵelement(4, \"path\", 4);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, LoginComponent_ng_template_5_Template, 4, 0, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, LoginComponent_p_8_Template, 6, 1, \"p\", 7);\n        i0.ɵɵelementStart(9, \"div\", 8);\n        i0.ɵɵtemplate(10, LoginComponent_div_10_Template, 33, 19, \"div\", 9);\n        i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 18, 7, \"div\", 9);\n        i0.ɵɵtemplate(12, LoginComponent_div_12_Template, 20, 8, \"div\", 9);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginFailed);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginStep === 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginStep === 2);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginStep === 3);\n      }\n    },\n    directives: [i3.NgIf, i4.NgbAlert, i4.NgbPopover, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i5.EmailValidator, i4.NgbTooltip, i5.SelectControlValueAccessor, i3.NgForOf, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n    encapsulation: 2\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}