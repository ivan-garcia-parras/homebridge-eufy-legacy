{"ast":null,"code":"import _asyncToGenerator from \"/Users/ivangarciaparras/Git/ivan-garcia-parras/homebridge-eufy-legacy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ConfigOptionsInterpreter } from '../config-options-interpreter';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../plugin.service\";\nexport let ManualAlarmModesComponent = /*#__PURE__*/(() => {\n  class ManualAlarmModesComponent extends ConfigOptionsInterpreter {\n    constructor(pluginService) {\n      super(pluginService);\n      this.value = [];\n    }\n\n    ngOnInit() {\n      this.readValue();\n    }\n\n    readValue() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var _a;\n\n        const config = yield _this.getStationConfig(((_a = _this.accessory) === null || _a === void 0 ? void 0 : _a.uniqueId) || '');\n\n        if (config && Array.isArray(config['manualTriggerModes'])) {\n          _this.value = config['manualTriggerModes'];\n        }\n      })();\n    }\n\n    toggle(mode) {\n      if (this.value.indexOf(mode) !== -1) {\n        this.value = this.value.filter(v => v !== mode);\n      } else {\n        this.value.push(mode);\n      }\n    }\n\n    update() {\n      this.updateConfig({\n        manualTriggerModes: this.value\n      }, this.accessory);\n    }\n\n  }\n\n  ManualAlarmModesComponent.ɵfac = function ManualAlarmModesComponent_Factory(t) {\n    return new (t || ManualAlarmModesComponent)(i0.ɵɵdirectiveInject(i1.PluginService));\n  };\n\n  ManualAlarmModesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ManualAlarmModesComponent,\n    selectors: [[\"app-manual-alarm-modes\"]],\n    inputs: {\n      accessory: \"accessory\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 36,\n    vars: 4,\n    consts: [[1, \"settingsItem\", \"row\", \"p-3\"], [1, \"mb-4\"], [1, \"d-flex\", \"flex-column\", \"flex-sm-row\", \"justify-content-between\", \"align-items-start\", \"align-items-sm-center\", \"mb-2\"], [1, \"form-check\", \"form-switch\"], [\"type\", \"checkbox\", \"role\", \"switch\", \"id\", \"flexSwitchCheckDefault\", 1, \"form-check-input\", 3, \"change\"]],\n    template: function ManualAlarmModesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"span\", 1);\n        i0.ɵɵtext(2, \"Manual Alarm Trigger Modes\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"span\");\n        i0.ɵɵtext(5, \"HomeKit Home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function ManualAlarmModesComponent_Template_input_change_7_listener() {\n          ctx.toggle(0);\n          return ctx.update();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"span\");\n        i0.ɵɵtext(10, \"HomeKit Away\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 3)(12, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function ManualAlarmModesComponent_Template_input_change_12_listener() {\n          ctx.toggle(1);\n          return ctx.update();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 2)(14, \"span\");\n        i0.ɵɵtext(15, \"HomeKit Night\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 3)(17, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function ManualAlarmModesComponent_Template_input_change_17_listener() {\n          ctx.toggle(2);\n          return ctx.update();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"div\", 2)(19, \"span\");\n        i0.ɵɵtext(20, \"HomeKit Off/Disarmed\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 3)(22, \"input\", 4);\n        i0.ɵɵlistener(\"change\", function ManualAlarmModesComponent_Template_input_change_22_listener() {\n          ctx.toggle(3);\n          return ctx.update();\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"small\")(24, \"i\");\n        i0.ɵɵtext(25, \" You can manually trigger (and reset) the stations alarm with a switch. Therefore you can utilize non eufy devices (e.g. a motion sensor, leak sensor, break-in sensor, ... from another vendor) to trigger the alarm with a homekit automation.\");\n        i0.ɵɵelement(26, \"p\");\n        i0.ɵɵtext(27, \" In order to do so, you must specify in which station mode the alarm can be triggered. \");\n        i0.ɵɵelement(28, \"p\");\n        i0.ɵɵtext(29, \" Please be aware that this setting can only be set on a per station basis and not per automation.\");\n        i0.ɵɵelement(30, \"br\");\n        i0.ɵɵtext(31, \" By default the alarm cause will be shown as 'motion detected' in the eufy app. \");\n        i0.ɵɵelement(32, \"p\");\n        i0.ɵɵtext(33, \" The manual alarm respects the delay alarm on leave settings from the eufy app. Triggered automations while the delay is effective will be ignored.\");\n        i0.ɵɵelement(34, \"br\");\n        i0.ɵɵtext(35, \" The native alarm delay setting is currently not supported. \");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵattribute(\"checked\", ctx.value.indexOf(0) !== -1 ? true : null);\n        i0.ɵɵadvance(5);\n        i0.ɵɵattribute(\"checked\", ctx.value.indexOf(1) !== -1 ? true : null);\n        i0.ɵɵadvance(5);\n        i0.ɵɵattribute(\"checked\", ctx.value.indexOf(2) !== -1 ? true : null);\n        i0.ɵɵadvance(5);\n        i0.ɵɵattribute(\"checked\", ctx.value.indexOf(3) !== -1 ? true : null);\n      }\n    },\n    encapsulation: 2\n  });\n  return ManualAlarmModesComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}